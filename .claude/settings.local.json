{
  "permissions": {
    "allow": [
      "Bash(npm run build:*)",
      "Bash(npx astro build)",
      "Bash(npm install:*)",
      "mcp__mcp-registry__search_mcp_registry",
      "Bash(npx wrangler d1 execute:*)",
      "Bash(curl:*)",
      "Bash(npm run deploy:*)",
      "Bash(npm run:*)",
      "Bash(npx wrangler pages deploy:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nAdd user profile, verification system, and review editing\n\nFeatures:\n- User profile dashboard at /profile showing user''s reviews\n- Review edit functionality at /review/edit/[id]\n- Verification upload system with R2 storage for tenancy proof\n- Admin verification queue at /admin/verify\n- Verified badge display on approved reviews\n- Header updates with Profile and Admin links for authenticated users\n\nDatabase changes:\n- Add is_admin column to users table\n- Add is_verified, verified_at, verified_by columns to reviews\n- Add verification_images table for uploaded documents\n\nInfrastructure:\n- R2 bucket binding for verification document storage\n- Storage utilities for upload/download operations\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git push:*)",
      "Bash(gh pr create --title \"Add user profile, verification system, and review editing\" --body \"$\\(cat <<''EOF''\n## Summary\n- Add user profile dashboard at `/profile` showing user''s reviews with edit and verify actions\n- Add review edit functionality at `/review/edit/[id]` with pre-filled form\n- Add verification upload system with R2 storage for tenancy proof documents \\(JPG, PNG, HEIC, PDF up to 10MB\\)\n- Add admin verification queue at `/admin/verify` for reviewing pending verifications\n- Add verified badge display on approved reviews throughout the site\n- Update header with Profile and Admin links for authenticated users\n\n## Database Changes\n- Migration `0007_verification_and_admin.sql`:\n  - Add `is_admin` column to users table\n  - Add `is_verified`, `verified_at`, `verified_by` columns to reviews\n  - Add `verification_images` table for uploaded documents\n\n## Infrastructure\n- R2 bucket `ratemyplace-verification` created for verification document storage\n- Storage utilities in `src/lib/storage.ts` for upload/download operations\n\n## Test plan\n- [ ] Sign in and verify Profile link appears in header\n- [ ] Visit /profile and confirm reviews are displayed\n- [ ] Click Edit on a review and verify the form is pre-filled\n- [ ] Submit an edit and verify changes are saved\n- [ ] Click \"Verify Review\" and upload a test image\n- [ ] Visit /admin/verify \\(as admin\\) and verify pending items appear\n- [ ] Approve a verification and confirm badge appears on review\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\nEOF\n\\)\")",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nFix search input text visibility on homepage\n\nAdd explicit bg-white to search input so typed text is visible\nagainst the dark hero section background.\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")"
    ]
  }
}
